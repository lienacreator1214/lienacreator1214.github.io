{% assign cats = page.categories | default: empty %}
{% if cats == empty and page.category %}
  {% assign cats = page.category | split: '|' %}   {# 單一字串也轉成陣列 #}
{% endif %}
{% assign tags = page.tags | default: "" %}

{% if cats != empty or tags != "" %}
<hr style="margin:24px 0;">
<div class="post-meta">
  {% if cats != empty %}
    分類：
    {% for c in cats %}
      <a href="{{ '/blog' | relative_url }}?category={{ c | strip | uri_escape }}">{{ c | strip }}</a>{% unless forloop.last %}、{% endunless %}
    {% endfor %}
  {% endif %}

  {% if cats != empty and tags != "" %}｜{% endif %}

  {% if tags != "" and tags.size > 0 %}
    標籤：
    {% for t in tags %}
      <a href="{{ '/blog' | relative_url }}?tag={{ t | strip | uri_escape }}">{{ t | strip }}</a>{% unless forloop.last %}、{% endunless %}
    {% endfor %}
  {% endif %}
</div>
{% endif %}
